<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<HTML
><HEAD
><TITLE
>dvdauthor</TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.79"><LINK
REL="HOME"
TITLE="DVDAuthor"
HREF="index.html"><LINK
REL="UP"
TITLE="DVDAuthor Man Pages"
HREF="manpages.html"><LINK
REL="PREVIOUS"
TITLE="DVDAuthor Man Pages"
HREF="manpages.html"><LINK
REL="NEXT"
TITLE="dvddirdel"
HREF="r2253.html"></HEAD
><BODY
CLASS="REFENTRY"
BGCOLOR="#FFFFFF"
TEXT="#000000"
LINK="#0000FF"
VLINK="#840084"
ALINK="#0000FF"
><DIV
CLASS="NAVHEADER"
><TABLE
SUMMARY="Header navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TH
COLSPAN="3"
ALIGN="center"
>DVDAuthor</TH
></TR
><TR
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="bottom"
><A
HREF="manpages.html"
ACCESSKEY="P"
>Prev</A
></TD
><TD
WIDTH="80%"
ALIGN="center"
VALIGN="bottom"
></TD
><TD
WIDTH="10%"
ALIGN="right"
VALIGN="bottom"
><A
HREF="r2253.html"
ACCESSKEY="N"
>Next</A
></TD
></TR
></TABLE
><HR
ALIGN="LEFT"
WIDTH="100%"></DIV
><H1
><A
NAME="DVDAUTHOR"
></A
>dvdauthor</H1
><DIV
CLASS="REFNAMEDIV"
><A
NAME="AEN1745"
></A
><H2
>Name</H2
>dvdauthor&nbsp;--&nbsp;assembles multiple mpeg program streams into a suitable DVD filesystem</DIV
><DIV
CLASS="REFSYNOPSISDIV"
><A
NAME="AEN1748"
></A
><H2
>Synopsis</H2
><P
><B
CLASS="COMMAND"
>dvdauthor</B
>  [-o <TT
CLASS="REPLACEABLE"
><I
>output-dir</I
></TT
>] {-x <TT
CLASS="REPLACEABLE"
><I
>xml-config-file</I
></TT
>}</P
><P
><B
CLASS="COMMAND"
>dvdauthor</B
>  [-o <TT
CLASS="REPLACEABLE"
><I
>output-dir</I
></TT
>] [-j | --jumppad | -g | --allgprm] [-T | --toc] [<TT
CLASS="REPLACEABLE"
><I
>menu or title options</I
></TT
>]</P
></DIV
><DIV
CLASS="REFSECT1"
><A
NAME="AEN1769"
></A
><H2
>DVD Background</H2
><P
>&#13;At a high level, a DVD is a collection of menus and titles.
Conceptually, a menu contains buttons which can be assigned actions
and provides a list of choices to the end user, while a title contains
the main content of the DVD.  However, in reality many of the features
available in menus (including buttons, pausing, and looping) are also
available in titles.&#13;</P
><P
>&#13;The menus and titles are divided into titlesets and the VMGM menu set.
A titleset can contain a number of menus and titles which are meant to
act together.  The "menu", "audio", "subtitle", and "angle" buttons on
the DVD player's remote control will all access menus in the same
titleset as the title which is being played.  All the titles and menus
of a given titleset have the same video, audio, and subtitle settings
(the definitions for the menus are independent from the definitions
for the titles), so if you want to have different settings (for
example widescreen vs standard aspect ratios), then you need separate
titlesets.  Titlesets are not meant to jump to one another, so the
VMGM menu domain is used.  It is a collection of menus (no titles)
that can access the menus and titles of all the titlesets.&#13;</P
><P
>&#13;One of the most frusterating things when deciding how to author a DVD
is that there are often many ways to accomplish the same task.  For
example, you must decide whether to locate menus at the VMGM level or
the titleset level.  A typical setup is to locate the high level menus
at the VMGM level, and the low level configuration menus (scene /
audio / subtitle selection) at the titleset.  If there are DVD extras,
perhaps with a lower quality audio track and a 4:3 aspect ratio, then
they would be in a separate titleset with a menu to select among the
extras located at the titleset level.&#13;</P
></DIV
><DIV
CLASS="REFSECT1"
><A
NAME="AEN1774"
></A
><H2
>dvdauthor Description</H2
><P
><B
CLASS="COMMAND"
>dvdauthor</B
> works in discrete operations.  It
authors each titleset one at a time, and then finally authors the VMGM
to complete the disc.  At that point the contents can be written out
to a DVD.  If you are controlling <B
CLASS="COMMAND"
>dvdauthor</B
> with
command line arguments, then each step will occur independently;
however if you are using the XML configuration file, then you have the
option of combining some or all the steps into one.</P
><P
>The VOBs passed to <B
CLASS="COMMAND"
>dvdauthor</B
> must have DVD
NAV (VOBU) packets multiplexed in at the correct locations.  Many
tools can do this, including <B
CLASS="COMMAND"
>mplex</B
> from mjpegtools
1.6.0 or later.  <B
CLASS="COMMAND"
>dvdauthor</B
> will then fill these
packets in with the correct data.  Special care has been taken to
ensure <B
CLASS="COMMAND"
>dvdauthor</B
> is fifo compliant; that is every
source VOB can be the output of another program (such as
<B
CLASS="COMMAND"
>mplex</B
>).  This can make execution faster on many
systems by avoiding extra filesystem accesses.</P
></DIV
><DIV
CLASS="REFSECT1"
><A
NAME="AEN1785"
></A
><H2
>Command Line Description</H2
><P
></P
><DIV
CLASS="VARIABLELIST"
><DL
><DT
><TT
CLASS="LITERAL"
>-o <TT
CLASS="REPLACEABLE"
><I
>output-dir</I
></TT
></TT
></DT
><DD
><P
>The destination directory to store the DVD-Video file structure in.</P
></DD
><DT
><TT
CLASS="LITERAL"
>-j</TT
>, <TT
CLASS="LITERAL"
>--jumppad</TT
></DT
><DD
><P
>foo</P
></DD
><DT
><TT
CLASS="LITERAL"
>-g</TT
>, <TT
CLASS="LITERAL"
>--allgprm</TT
></DT
><DD
><P
>Enable the use of all 16 general purpose registers.  Prohibits the use of jumppad and some complex expressions that require temporary registers.</P
></DD
><DT
><TT
CLASS="LITERAL"
>-T</TT
></DT
><DD
><P
>Creates the table of contents file instead of a
titleset. If this option is used, it should be listed first, and you
may not specify any titles.</P
></DD
><DT
><TT
CLASS="LITERAL"
>-m</TT
></DT
><DD
><P
>Creates a menu.</P
></DD
><DT
><TT
CLASS="LITERAL"
>-t</TT
></DT
><DD
><P
>Creates a title.</P
></DD
><DT
><TT
CLASS="LITERAL"
>-v <TT
CLASS="REPLACEABLE"
><I
>video-opts</I
></TT
></TT
>, <TT
CLASS="LITERAL"
>--video=<TT
CLASS="REPLACEABLE"
><I
>video-opts</I
></TT
></TT
></DT
><DD
><P
>A plus (+) separated list of video options.  Dvdauthor
will try to infer any unspecified options.  pal, ntsc, 4:3, 16:9,
720xfull, 720x576, 720x480, 704xfull, 704x576, 704x480, 352xfull,
352x576, 352x480, 352xhalf, 352x288, 352x240, nopanscan, noletterbox, crop.
Default is ntsc, 4:3, 720xfull</P
></DD
><DT
><TT
CLASS="LITERAL"
>-a <TT
CLASS="REPLACEABLE"
><I
>audio-opts</I
></TT
></TT
>, <TT
CLASS="LITERAL"
>--audio=<TT
CLASS="REPLACEABLE"
><I
>audio-opts</I
></TT
></TT
></DT
><DD
><P
>A plus (+) separated list of options for an audio
track, with each track separated by a comma (,).  For example -a
ac3+en,mp2+de specifies two audio tracks: the first is an English
track encoded in AC3, the second is a German track encoded using
MPEG-1 layer 2 compression.  ac3, mp2, pcm, dts, 16bps, 20bps, 24bps,
drc, surround, nolang, 1ch, 2ch, 3ch, 4ch, 5ch, 6ch, 7ch, 8ch, and any
two letter ISO 639 language abbreviation.  Default is 1 track, mp2,
20bps, nolang, 2ch.  'ac3' implies drc, 6ch.</P
></DD
><DT
><TT
CLASS="LITERAL"
>-s <TT
CLASS="REPLACEABLE"
><I
>subpicture-opts</I
></TT
></TT
>, <TT
CLASS="LITERAL"
>--subpictures=<TT
CLASS="REPLACEABLE"
><I
>subpicture-opts</I
></TT
></TT
></DT
><DD
><P
>A plus (+) separated list of options for a subpicture
track, with each track separated by a comma (,). nolang and any two
letter language abbreviation (see -a) Default is no subpicture
tracks.</P
></DD
><DT
><TT
CLASS="LITERAL"
>-e <TT
CLASS="REPLACEABLE"
><I
>entry(s)</I
></TT
></TT
>, <TT
CLASS="LITERAL"
>--entry=<TT
CLASS="REPLACEABLE"
><I
>entry(s)</I
></TT
></TT
></DT
><DD
><P
>Makes the current menu the default for certain
circumstances. It is a comma separated list of any of:</P
><P
>for
TOC menus: title</P
><P
>for VTS menus: root, ptt, audio,
subtitle, angle</P
></DD
><DT
><TT
CLASS="LITERAL"
>-p <TT
CLASS="REPLACEABLE"
><I
>palette-file</I
></TT
></TT
>, <TT
CLASS="LITERAL"
>--palette=<TT
CLASS="REPLACEABLE"
><I
>palette-file</I
></TT
></TT
></DT
><DD
><P
>Specifies where to get the subpicture
palette. Settable per title and per menu. If the filename ends in .rgb
(case insensitive) then it is assumed to be RGB, otherwise it is
YUV. Entries should be 6 hexadecimal
digits. <TT
CLASS="REPLACEABLE"
><I
>FILE</I
></TT
> defaults to
xste-palette.dat</P
></DD
><DT
><TT
CLASS="LITERAL"
>-c <TT
CLASS="REPLACEABLE"
><I
>chapterpts</I
></TT
></TT
>, <TT
CLASS="LITERAL"
>--chapters=<TT
CLASS="REPLACEABLE"
><I
>chapterpts</I
></TT
></TT
></DT
><DD
><P
>Specifies a comma (,) separated list of chapter
markers. Each marker is of the form [[h:]mm:]ss[.frac] and is relative
to the SCR of the next file listed (independent of any timestamp
transposing that occurs within dvdauthor). The chapter markers ONLY
apply to the next file listed. Defaults to 0.</P
></DD
><DT
><TT
CLASS="LITERAL"
>-f <TT
CLASS="REPLACEABLE"
><I
>mpeg-file</I
></TT
></TT
>, <TT
CLASS="LITERAL"
>--file=<TT
CLASS="REPLACEABLE"
><I
>mpeg-file</I
></TT
></TT
>, <TT
CLASS="LITERAL"
><TT
CLASS="REPLACEABLE"
><I
>mpeg-file</I
></TT
></TT
></DT
><DD
><P
>Specifies either a file, a pipe, or a shell command
ending in | which supplies an MPEG-2 system stream with VOB sectors
inserted in the appropriate places (using mplex -f 8 to
generate)</P
></DD
><DT
><TT
CLASS="LITERAL"
>-b <TT
CLASS="REPLACEABLE"
><I
>buttondef</I
></TT
></TT
>, <TT
CLASS="LITERAL"
>--button=<TT
CLASS="REPLACEABLE"
><I
>X1xY1-X2xY2,commandlist</I
></TT
></TT
></DT
><DD
><P
>creates a button of the specified size. See
LANGUAGE DESCRIPTION for a description of <TT
CLASS="REPLACEABLE"
><I
>commandlist</I
></TT
>.</P
></DD
><DT
><TT
CLASS="LITERAL"
>-i <TT
CLASS="REPLACEABLE"
><I
>[pre|post]=commandlist</I
></TT
></TT
>, <TT
CLASS="LITERAL"
>--instructions=<TT
CLASS="REPLACEABLE"
><I
>[pre|post]=commandlist</I
></TT
></TT
></DT
><DD
><P
>Executes the <TT
CLASS="REPLACEABLE"
><I
>commandlist</I
></TT
>
instructions either before or at the end of the menu/title.  See
LANGUAGE DESCRIPTION for the format of <TT
CLASS="REPLACEABLE"
><I
>commandlist.</I
></TT
></P
></DD
></DL
></DIV
></DIV
><DIV
CLASS="REFSECT1"
><A
NAME="AEN1913"
></A
><H2
>XML Description</H2
><P
>Here is the basic structure of the configuration file:</P
><PRE
CLASS="SYNOPSIS"
>&lt;dvdauthor [dest="<TT
CLASS="REPLACEABLE"
><I
>output-dir</I
></TT
>"] [jumppad="1|on|yes" | allgprm="1|on|yes"]&gt;
   &lt;vmgm&gt;
      [&lt;fpc&gt;<TT
CLASS="REPLACEABLE"
><I
>commands;</I
></TT
>&lt;/fpc&gt;]
      &lt;menus [lang="<TT
CLASS="REPLACEABLE"
><I
>language-code</I
></TT
>"] &gt;
         &lt;video [format="ntsc|pal"] [aspect="4:3|16:9"]
                [resolution="<TT
CLASS="REPLACEABLE"
><I
>XxY</I
></TT
>"] [caption="field1|field2"]
                [widescreen="nopanscan|noletterbox|crop"] /&gt;
         &lt;audio [format="mp2|ac3|dts|pcm"] [channels="<TT
CLASS="REPLACEABLE"
><I
>numchannels</I
></TT
>"]
                [quant="16bps|20bps|24bps|drc"] [dolby="surround"]
                [samplerate="48khz|96khz"] [lang="<TT
CLASS="REPLACEABLE"
><I
>language</I
></TT
>"] /&gt;
         [&lt;audio ... /&gt;]
         &lt;subpicture lang="<TT
CLASS="REPLACEABLE"
><I
>language</I
></TT
>" /&gt;
         &lt;pgc [entry="title"] [palette="<TT
CLASS="REPLACEABLE"
><I
>yuvfile|rgbfile</I
></TT
>"]
              [pause="<TT
CLASS="REPLACEABLE"
><I
>seconds</I
></TT
>|inf"]&gt;
            &lt;pre&gt; <TT
CLASS="REPLACEABLE"
><I
>commands;</I
></TT
> &lt;/pre&gt;
            &lt;vob file="<TT
CLASS="REPLACEABLE"
><I
>file.mpg</I
></TT
>" [chapters="<TT
CLASS="REPLACEABLE"
><I
>chapter-list</I
></TT
>"]
                 [pause="<TT
CLASS="REPLACEABLE"
><I
>seconds</I
></TT
>|inf"] /&gt;
            [&lt;vob ... /&gt;]
            &lt;button [name="<TT
CLASS="REPLACEABLE"
><I
>buttonname</I
></TT
>"]&gt; <TT
CLASS="REPLACEABLE"
><I
>commands;</I
></TT
> &lt;/button&gt;
            [&lt;button ... /&gt;]
            &lt;post&gt; <TT
CLASS="REPLACEABLE"
><I
>commands;</I
></TT
> &lt;/post&gt;
         &lt;/pgc&gt;
         [&lt;pgc ... /&gt;]
      &lt;/menus&gt;
   &lt;/vmgm&gt;
   &lt;titleset&gt;
      &lt;menus&gt;
         [&lt;video ... /&gt;]
         [&lt;audio ... /&gt;]
         &lt;pgc [entry="<TT
CLASS="REPLACEABLE"
><I
>entries</I
></TT
>"]
              [palette="<TT
CLASS="REPLACEABLE"
><I
>yuvfile|rgbfile</I
></TT
>"] [pause="<TT
CLASS="REPLACEABLE"
><I
>seconds</I
></TT
>|inf"]&gt;
            [...]
         &lt;/pgc&gt;
         [&lt;pgc ... /&gt;]
      &lt;/menus&gt;
      &lt;titles&gt;
         [&lt;video ... /&gt;]
         [&lt;audio ... /&gt;]
         &lt;pgc [palette="<TT
CLASS="REPLACEABLE"
><I
>yuvfile|rgbfile</I
></TT
>"] [pause="<TT
CLASS="REPLACEABLE"
><I
>seconds</I
></TT
>|inf"]&gt;
            [...]
         &lt;/pgc&gt;
         [&lt;pgc ... /&gt;]
      &lt;/titles&gt;
   &lt;/titleset&gt;
   [&lt;titleset ... /&gt;]
&lt;/dvdauthor&gt;</PRE
><P
>A breakdown of the config file:</P
><P
></P
><DIV
CLASS="VARIABLELIST"
><DL
><DT
><TT
CLASS="LITERAL"
>&lt;dvdauthor [dest="<TT
CLASS="REPLACEABLE"
><I
>output-dir</I
></TT
>"] [jumppad="1|on|yes" | allgprm="1|on|yes"]&gt;</TT
></DT
><DD
><P
>Initiates dvdauthor.  <TT
CLASS="LITERAL"
>dest</TT
> denotes the directory where <B
CLASS="COMMAND"
>dvdauthor</B
> will write the files.  It overrides the <TT
CLASS="LITERAL"
>-o</TT
> option.  Contains up to one <TT
CLASS="LITERAL"
>&lt;vmgm&gt;</TT
> tag and any number of <TT
CLASS="LITERAL"
>&lt;titleset&gt;</TT
>'s.</P
></DD
><DT
><TT
CLASS="LITERAL"
>&lt;vmgm&gt;</TT
>, <TT
CLASS="LITERAL"
>&lt;titleset&gt;</TT
></DT
><DD
><P
>Constructs of a VMGM level menu set or a title set.
Contains up to one <TT
CLASS="LITERAL"
>&lt;menus&gt;</TT
> tag and if a
titleset, up to one <TT
CLASS="LITERAL"
>&lt;titles&gt;</TT
> tag.</P
></DD
><DT
><TT
CLASS="LITERAL"
>&lt;menus
[lang="<TT
CLASS="REPLACEABLE"
><I
>language-code</I
></TT
>"]
&gt;</TT
>, <TT
CLASS="LITERAL"
>&lt;titles&gt;</TT
></DT
><DD
><P
>Marks the list of menus or titles for this VMGM menu
set or titleset, called in <B
CLASS="COMMAND"
>dvdauthor</B
> terminology a
"pgcgroup."  Contains up to one <TT
CLASS="LITERAL"
>&lt;video&gt;</TT
> tag,
up to eight <TT
CLASS="LITERAL"
>&lt;audio&gt;</TT
> tags, up to 32
<TT
CLASS="LITERAL"
>&lt;subpicture&gt;</TT
> tags, and any number of
<TT
CLASS="LITERAL"
>&lt;pgc&gt;</TT
> tags.</P
></DD
><DT
><TT
CLASS="LITERAL"
>&lt;video [format="ntsc|pal"]
[aspect="4:3|16:9"] [resolution="<TT
CLASS="REPLACEABLE"
><I
>XxY</I
></TT
>"]
[caption="field1|field2"] [widescreen="nopanscan|noletterbox|crop"]
/&gt;</TT
></DT
><DD
><P
> Manually configures the video
parameters for this pgcgroup.  If any of these are not set, then they
will be inferred from the source stream.  Note that the DVD format
only specifically supports 720x480, 704x480, 352x480, and 352x240
resolutions for NTSC, and 720x576, 704x576, 352x576, and 352x288
resolutions for PAL, but DVD author will accept a wider range of
inputs and round up to the nearest size.</P
></DD
><DT
><TT
CLASS="LITERAL"
>&lt;audio [format="mp2|ac3|dts|pcm"]
[channels="<TT
CLASS="REPLACEABLE"
><I
>numchannels</I
></TT
>"]
[dolby="surround"] [quant="16bps|20bps|24bps|drc"] [samplerate="48khz|96khz"]
[lang="<TT
CLASS="REPLACEABLE"
><I
>language</I
></TT
>"] /&gt;</TT
></DT
><DD
><P
>Manually configures an audio channel for this
pgcgroup.  List once for each channel.  Most parameters are inferred
automatically from the source VOBs except for PCM parameters.
However, language must be manually specified.  Note that it is
possible to just list the language attribute and let
<B
CLASS="COMMAND"
>dvdauthor</B
> fill in the rest.</P
></DD
><DT
><TT
CLASS="LITERAL"
>&lt;subpicture
lang="<TT
CLASS="REPLACEABLE"
><I
>language</I
></TT
>" /&gt;</TT
></DT
><DD
><P
>foo</P
></DD
><DT
><TT
CLASS="LITERAL"
>&lt;pgc
[entry="<TT
CLASS="REPLACEABLE"
><I
>entries</I
></TT
>"]
[palette="<TT
CLASS="REPLACEABLE"
><I
>yuvfile|rgbfile</I
></TT
>"]
[pause="<TT
CLASS="REPLACEABLE"
><I
>seconds</I
></TT
>|inf"]&gt;</TT
></DT
><DD
><P
>A PGC is just a fancy term for either a menu or a
title.  It has a special meaning in the DVD spec so I have retained
its use here.  PGC's can have commands that get executed before they
start playing or after they finish; see <TT
CLASS="LITERAL"
>pre</TT
> and
<TT
CLASS="LITERAL"
>post</TT
> tags below.</P
><P
>If the PGC is a menu, you can specify one or more entries for
it.  This means that if you press the corresponding button on your DVD
remote, then it will go to this menu.  For a VMGM level menu, the only
choice is <TT
CLASS="LITERAL"
>title</TT
>, which on my remote corresponds to
the <TT
CLASS="LITERAL"
>top menu</TT
> button.  For a titleset level menu,
you can use root, subtitle, audio, angle, and ptt.  If you want more
than one, separate them by a space or a comma.  Note that
<TT
CLASS="LITERAL"
>root</TT
> entry is meant for commands that jump from a
VMGM level menu to a titleset menu.</P
><P
>All button and menu masks and all subtitles within a PGC must
share the same 16 color palette.  If you use <B
CLASS="COMMAND"
>spumux</B
>
to generate the subtitle/subpicture packets, then the color
information will be automatically passed to
<B
CLASS="COMMAND"
>dvdauthor</B
>; however, if you use another subtitler or
want to have more control over the palette, you can manually specify
it with the <TT
CLASS="LITERAL"
>palette</TT
> attribute.  The first 16
entries of the file should be the 16 colors of the palette, listed as
6 digit hexadecimal numbers representing either the RGB breakdown (if
the filename ends in <TT
CLASS="LITERAL"
>.rgb</TT
> or the YUV breakdown (if
the filename does not end in <TT
CLASS="LITERAL"
>.rgb</TT
>.  After that, the
button group information can be listed as pairs of 8 digit hexadecimal
numbers; up to three button groups may be specified.</P
><P
>If you have a short video sequence or just want the video to
pause at the end, you can use the <TT
CLASS="LITERAL"
>pause</TT
> attribute
to set the number of seconds (as an integer) from 1 to 254.  If you
want the video to pause indefinitely, use
<TT
CLASS="LITERAL"
>inf</TT
>.</P
></DD
><DT
><TT
CLASS="LITERAL"
>&lt;pre&gt; <TT
CLASS="REPLACEABLE"
><I
>commands;</I
></TT
> &lt;/pre&gt;</TT
>, <TT
CLASS="LITERAL"
>&lt;post&gt; <TT
CLASS="REPLACEABLE"
><I
>commands;</I
></TT
> &lt;/post&gt;</TT
></DT
><DD
><P
> Sets the commands to execute before or after a PGC
plays.  It can be used to loop the current video (by having a
<TT
CLASS="LITERAL"
>&lt;post&gt; jump ... &lt;/post&gt;</TT
> sequence), or to
conditionally skip certain chapters if a flag has been set.</P
></DD
><DT
><TT
CLASS="LITERAL"
>&lt;fpc&gt; <TT
CLASS="REPLACEABLE"
><I
>commands;</I
></TT
> &lt;/fpc&gt;</TT
></DT
><DD
><P
> Sets the commands to execute when the disk is first
put in the player (FPC = First Program Chain).  It can be used to jump
to a particular menu or initialize registers on startup.  If not
specified, an implicit one will be created that jumps to the first
menu found, or if there is no menu it will jump to the first title..</P
></DD
><DT
><TT
CLASS="LITERAL"
>&lt;vob file="<TT
CLASS="REPLACEABLE"
><I
>file.mpg</I
></TT
>" [chapters="<TT
CLASS="REPLACEABLE"
><I
>chapter-list</I
></TT
>"] [pause="<TT
CLASS="REPLACEABLE"
><I
>seconds</I
></TT
>|inf"] /&gt;</TT
></DT
><DD
><P
>foo</P
></DD
><DT
><TT
CLASS="LITERAL"
>&lt;cell [start="<TT
CLASS="REPLACEABLE"
><I
>timestamp</I
></TT
>"] [end="<TT
CLASS="REPLACEABLE"
><I
>timestamp</I
></TT
>"] [chapter="1|on|yes" | program="1|on|yes"] [pause="<TT
CLASS="REPLACEABLE"
><I
>seconds</I
></TT
>|inf"] /&gt;</TT
></DT
><DD
><P
>foo</P
></DD
><DT
><TT
CLASS="LITERAL"
>&lt;button [name="<TT
CLASS="REPLACEABLE"
><I
>buttonname</I
></TT
>"]&gt; <TT
CLASS="REPLACEABLE"
><I
>commands;</I
></TT
> &lt;/button&gt;</TT
></DT
><DD
><P
>foo</P
></DD
></DL
></DIV
></DIV
><DIV
CLASS="REFSECT1"
><A
NAME="AEN2055"
></A
><H2
>Language Description</H2
><P
>The language is quite simple and roughly looks like C.</P
><P
></P
><UL
><LI
><P
>Statements are terminated with a semicolon.</P
></LI
><LI
><P
>Statements can span multiple lines.</P
></LI
><LI
><P
>Multiple statements can appear on one line.</P
></LI
><LI
><P
>Whitespace (space, tab, newlines) are not important, except to separate keywords and identifiers.</P
></LI
></UL
><DIV
CLASS="REFSECT2"
><A
NAME="AEN2067"
></A
><H3
>Variables</H3
><P
>The DVD virtual machine processes 16 bit values.  It supports up
to 16 general purpose registers; however <B
CLASS="COMMAND"
>dvdauthor</B
>
reserves 3 for internal use.  Thus register 0-12 are avaialable for
use and are referred to as <TT
CLASS="LITERAL"
>g0</TT
> through
<TT
CLASS="LITERAL"
>g12</TT
>.</P
><P
>There are also 24 system registers, which can be referred to as
<TT
CLASS="LITERAL"
>s0</TT
> through <TT
CLASS="LITERAL"
>s23</TT
>.  Not all of
these can be set.  Many of these have pseodonyms.</P
><DIV
CLASS="GLOSSLIST"
><DL
><DT
><B
><TT
CLASS="LITERAL"
>audio</TT
>
(<TT
CLASS="LITERAL"
>s1</TT
>, rw)</B
></DT
><DD
><P
>Denotes the
audio channel, ranging from 0-7.</P
></DD
><DT
><B
><TT
CLASS="LITERAL"
>subtitle</TT
>
(<TT
CLASS="LITERAL"
>s2</TT
>, rw)</B
></DT
><DD
><P
>The subtitle
track, ranging from 0-31.  If you want the subtitle to always be
displayed, then you should add 64 (i.e. choose 64-95).  Simply
selecting the track (0-31) means that only the forced subtitles will
be displayed, whereas enabling the track (64-95) means that all the
subtitles will be displayed.  This allows you to have forced subtitles
only for the parts of the movie where the actors are speaking a
foreign (to the viewer) language, but still have normal subtitles for
the hearing impaired.  The hearing impaired viewers would enable the
track (64-95) while the other viewers would just select the track
(0-31) they would be able to share the
track.</P
></DD
><DT
><B
><TT
CLASS="LITERAL"
>angle</TT
>
(<TT
CLASS="LITERAL"
>s3</TT
>, rw)</B
></DT
><DD
><P
>Selects the
angle (currently untested).</P
></DD
><DT
><B
><TT
CLASS="LITERAL"
>button</TT
>
(<TT
CLASS="LITERAL"
>s8</TT
>, rw)</B
></DT
><DD
><P
>Denotes the
currently highlighted button.  Note that the value is multiplied by
1024, so the first button is 1024, the second is 2048,
etc.</P
></DD
></DL
></DIV
></DIV
><DIV
CLASS="REFSECT2"
><A
NAME="AEN2101"
></A
><H3
>Expressions</H3
><P
>Expressions follow typical C syntax except that booleans are not
convertible to integers and vice versa.  Operators and comparisons
are:</P
><P
><TT
CLASS="LITERAL"
>==</TT
>, <TT
CLASS="LITERAL"
>!=</TT
>, <TT
CLASS="LITERAL"
>&gt;=</TT
>, <TT
CLASS="LITERAL"
>&gt;</TT
>, <TT
CLASS="LITERAL"
>&lt;=</TT
>, <TT
CLASS="LITERAL"
>&lt;</TT
>, <TT
CLASS="LITERAL"
>&amp;&amp;</TT
>, <TT
CLASS="LITERAL"
>||</TT
>, <TT
CLASS="LITERAL"
>!</TT
>, <TT
CLASS="LITERAL"
>eq</TT
>, <TT
CLASS="LITERAL"
>ne</TT
>, <TT
CLASS="LITERAL"
>ge</TT
>, <TT
CLASS="LITERAL"
>gt</TT
>, <TT
CLASS="LITERAL"
>le</TT
>, <TT
CLASS="LITERAL"
>lt</TT
>, <TT
CLASS="LITERAL"
>and</TT
>, <TT
CLASS="LITERAL"
>or</TT
>, <TT
CLASS="LITERAL"
>xor</TT
>, <TT
CLASS="LITERAL"
>not</TT
>, <TT
CLASS="LITERAL"
>+</TT
>, <TT
CLASS="LITERAL"
>-</TT
>, <TT
CLASS="LITERAL"
>*</TT
>, <TT
CLASS="LITERAL"
>/</TT
>, <TT
CLASS="LITERAL"
>%</TT
>, <TT
CLASS="LITERAL"
>&#38;</TT
>, <TT
CLASS="LITERAL"
>|</TT
>, <TT
CLASS="LITERAL"
>^</TT
></P
><P
>Since the code is encapsulated in XML, the parser will catch any
unescaped &lt; characters, thus alphabetic mnemonics have been
provided for all comparison operators for consistency.</P
><P
>There is also a numerical function:</P
><P
></P
><DIV
CLASS="VARIABLELIST"
><DL
><DT
><TT
CLASS="LITERAL"
>random(<TT
CLASS="REPLACEABLE"
><I
>EXPRESSION</I
></TT
>)</TT
></DT
><DD
><P
>Computes a psuedo-random number, between 1 and the
supplied number, inclusively.</P
></DD
></DL
></DIV
></DIV
><DIV
CLASS="REFSECT2"
><A
NAME="AEN2169"
></A
><H3
>Blocks</H3
><P
>Blocks are either a single statement (terminated by a
semicolon), or a group of statements wrapped in curly braces.  For
example:</P
><P
></P
><UL
><LI
><PRE
CLASS="SYNOPSIS"
>g3=s7;</PRE
></LI
><LI
><PRE
CLASS="SYNOPSIS"
>{
  audio=1;
  subtitle=65;
  jump vmgm menu 3;
}</PRE
></LI
></UL
></DIV
><DIV
CLASS="REFSECT2"
><A
NAME="AEN2177"
></A
><H3
>Statements</H3
><P
>The statements supported are fairly simple at the moment.</P
><P
></P
><DIV
CLASS="VARIABLELIST"
><DL
><DT
><TT
CLASS="LITERAL"
><TT
CLASS="REPLACEABLE"
><I
>VARIABLE</I
></TT
>=<TT
CLASS="REPLACEABLE"
><I
>EXPRESSION</I
></TT
>;</TT
></DT
><DD
><P
>Sets a variable equal to the result of an equation.</P
></DD
><DT
><TT
CLASS="LITERAL"
>if (<TT
CLASS="REPLACEABLE"
><I
>EXPRESSION</I
></TT
>) <TT
CLASS="REPLACEABLE"
><I
>BLOCK;</I
></TT
></TT
>, <TT
CLASS="LITERAL"
>if (<TT
CLASS="REPLACEABLE"
><I
>EXPRESSION</I
></TT
>) <TT
CLASS="REPLACEABLE"
><I
>BLOCK;</I
></TT
> else <TT
CLASS="REPLACEABLE"
><I
>BLOCK;</I
></TT
></TT
></DT
><DD
><P
>Calculates the expression; if true, then it executes
the block of code.</P
></DD
><DT
><TT
CLASS="LITERAL"
>jump <TT
CLASS="REPLACEABLE"
><I
>TARGET</I
></TT
>;</TT
>, <TT
CLASS="LITERAL"
>call <TT
CLASS="REPLACEABLE"
><I
>TARGET</I
></TT
> [resume <TT
CLASS="REPLACEABLE"
><I
>CELL</I
></TT
>];</TT
>, <TT
CLASS="LITERAL"
>resume;</TT
></DT
><DD
><P
>Jumps to a particular title or menu, or calls a
particular menu, or returns to the calling title.  You can only
execute a call from a title to a menu; all other forms are illegal.
The purpose of using <TT
CLASS="LITERAL"
>call</TT
> instead of
<TT
CLASS="LITERAL"
>jump</TT
> (besides the fact that they support a mutually
exclusive list of targets) is to allow the menu to return to the point
in the title where the call originated using
<TT
CLASS="LITERAL"
>resume</TT
>.  You can manually specify the return cell
by using the <TT
CLASS="LITERAL"
>resume</TT
> keyword, however if you do not
specify one and you use the command in a post instruction block, then
it will presume cell 1.</P
><P
>The following are possible targets:</P
><P
></P
><DIV
CLASS="VARIABLELIST"
><DL
><DT
><TT
CLASS="LITERAL"
>[vmgm | titleset <TT
CLASS="REPLACEABLE"
><I
>X</I
></TT
>] menu</TT
>, <TT
CLASS="LITERAL"
>[vmgm | titleset <TT
CLASS="REPLACEABLE"
><I
>X</I
></TT
>] menu <TT
CLASS="REPLACEABLE"
><I
>Y</I
></TT
></TT
>, <TT
CLASS="LITERAL"
>[vmgm | titleset <TT
CLASS="REPLACEABLE"
><I
>X</I
></TT
>] menu entry <TT
CLASS="REPLACEABLE"
><I
>Z</I
></TT
></TT
></DT
><DD
><P
>Targets either the default menu, a menu number Y, or the menu denoted as the entry for Z.  The menu is in either the VMGM or titleset domain.  If you wish to target a menu in the current domain then you can omit the domain moniker.</P
></DD
><DT
><TT
CLASS="LITERAL"
>[vmgm | titleset <TT
CLASS="REPLACEABLE"
><I
>X</I
></TT
>] title <TT
CLASS="REPLACEABLE"
><I
>Y</I
></TT
> [chapter <TT
CLASS="REPLACEABLE"
><I
>Z</I
></TT
>]</TT
></DT
><DD
><P
>Targets a title, or a chapter in a title.  Numbering
starts at 1.  All of the titles on the disc are accessible in the VMGM
domain, or you can access them by titleset
instead.</P
></DD
><DT
><TT
CLASS="LITERAL"
>chapter <TT
CLASS="REPLACEABLE"
><I
>Z</I
></TT
></TT
>, <TT
CLASS="LITERAL"
>program <TT
CLASS="REPLACEABLE"
><I
>Z</I
></TT
></TT
>, <TT
CLASS="LITERAL"
>cell <TT
CLASS="REPLACEABLE"
><I
>Z</I
></TT
></TT
></DT
><DD
><P
>Targets a chapter, program, or cell in the current
title or menu (note that menus do not have chapters).  You can use
this to create looping menus: <TT
CLASS="LITERAL"
>jump cell
1;</TT
></P
></DD
></DL
></DIV
></DD
></DL
></DIV
></DIV
></DIV
><DIV
CLASS="NAVFOOTER"
><HR
ALIGN="LEFT"
WIDTH="100%"><TABLE
SUMMARY="Footer navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
><A
HREF="manpages.html"
ACCESSKEY="P"
>Prev</A
></TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="index.html"
ACCESSKEY="H"
>Home</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
><A
HREF="r2253.html"
ACCESSKEY="N"
>Next</A
></TD
></TR
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
>DVDAuthor Man Pages</TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="manpages.html"
ACCESSKEY="U"
>Up</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
>dvddirdel</TD
></TR
></TABLE
></DIV
></BODY
></HTML
>